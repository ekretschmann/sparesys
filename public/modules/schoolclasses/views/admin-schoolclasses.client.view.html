<section data-ng-controller="SchoolclassesController" data-ng-init="find()">

    <div ng-include="'/modules/schoolclasses/views/partial/delete-class.modal.client.view.html'"></div>


    <div class="content-header">

        <div class="title">
            Administer Schoolclasses
        </div>
    </div>

    <div data-ng-if="schoolclasses.length === 0">

        No School Classes Registered.
    </div>


    <table id="searchTextResults" class="table-striped" style="width: 100%" data-ng-if="schoolclasses.length > 0">
        <thead>
        <tr>
            <th class="sparesys-view-courses-course-column"></th>
            <th class="sparesys-view-courses-course-column">Schoolclass</th>
            <th class="sparesys-view-courses-description-column">School</th>
            <th class="sparesys-view-courses-description-column" style="padding-left: 5px;">Students</th>
            <th class="sparesys-view-courses-description-column">Courses</th>
        </tr>
        </thead>
        <tbody>
        <tr data-ng-repeat="schoolclass in schoolclasses | filter:searchText">
            <td class="top-padded-s left-padded-s right-padded-s" >
                <a href="">
                    <i data-ng-click="areYouSureToDeleteClass(schoolclass)"
                       class="glyphicon glyphicon-remove-sign">
                    </i>
                </a>

            </td>
            <td class="top-padded-s nowrap right-padded-m" >
                <a data-ng-href="#!/schoolclasses/{{schoolclass._id}}/edit">{{schoolclass.name}}</a></td>
            <td class="top-padded-s right-padded-m" data-ng-controller="SchoolsController" data-ng-init="findById(schoolclass.school)">
                <span data-ng-if="school">{{school.name}}</span>
                <span data-ng-if="!school">undefined</span>
            </td>
            <td class="top-padded-s right-padded-m" >
                <div data-ng-repeat="student in schoolclass.students">
                    <div class="nowrap" data-ng-controller="UsersController" data-ng-init="findStudent(student)">
                        {{student.displayName}}
                    </div>
                </div>
            </td>
            <td class="top-padded-s right-padded-s" >

                <div data-ng-repeat="course in schoolclass.courses">
                    <div data-ng-controller="CoursesController" data-ng-init="findById(course)">
                        {{course.name}}
                    </div>
                </div>
            </td>
        </tr>
        </tbody>
    </table>

</section>