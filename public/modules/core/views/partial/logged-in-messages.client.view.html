
<section data-ng-controller="MessagesController"
         data-ng-init="findForCurrentUser()">

    <section data-ng-if="validationRequests.length > 0">

        <div class="content-section">


            <div class="title">Messages</div>

            <section data-ng-if="authentication.user.roles.indexOf('help') > -1">
                <infobox logo="philosopher" position="left">
                    Your students were busy practicing your courses. Some of them
                    suggest relaxing the validation of particular cards.
                    Please go through the list below to <span style="font-weight: bold">accept</span> or
                    <span style="font-weight: bold">decline</span> their suggestions. If you accept the
                    suggestion and it is given again in the future by any of your students, they will be counted
                    as
                    correct. Should you decline, the answer will be counted as incorrect from now on.
                    Please use <span style="font-weight: bold">ignore</span> for answers that are clear
                    attempts to cheat.
                </infobox>
            </section>


            <table class="table-striped" style="margin-top: 15px">

                <thead>
                <tr>

                    <th class="right-padded nowrap">Student</th>
                    <th class="expands right-padded-m nowrap">Question</th>
                    <th class="expands right-padded-m nowrap">Expected Answer</th>
                    <th class="expands right-padded-m nowrap">Suggested Variation</th>
                    <th class="nowrap">Action</th>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="request in validationRequests" data-ng-init="findById(request.card)"
                    data-ng-controller="CardsController">

                    <td class="right-padded-m nowrap">

                        {{request.sender}}

                    </td>

                    <td class="right-padded-m expands">

                    <span data-ng-if="request.direction === 'forward'">
                    {{card.question}}
                    </span>

                    <span data-ng-if="request.direction === 'reverse'">
                    {{card.answer}}
                    </span>

                    </td>
                    <td class="right-padded-m expands">

                    <span data-ng-if="request.direction === 'forward'">
                    {{card.answer}}
                    </span>

                    <span data-ng-if="request.direction === 'reverse'">
                    {{card.question}}
                    </span>
                    </td>

                    <td class="right-padded-m expands">
                        {{request.content}}

                    </td>

                    <td class="expands nowrap">
                        <a href="" class="right-padded" data-ng-click="accept(request)">accept</a>
                        <a href="" class="right-padded" data-ng-click="decline(request)">decline</a>
                        <a href="" data-ng-click="ignore(request)">ignore</a>

                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <!--YOU HAVE MAIL {{validationRequests}}-->
    </section>

</section>