<section data-ng-controller="SchoolsController" data-ng-init="findOne()">

    <div ng-include="'/modules/schools/views/partial/remove-student.modal.client.view.html'"></div>


    <div data-ng-if="!school || !school._id">
        <div class="col-xs-12 col-md-6 dashboard-col font-large">
            <div class="virtual-card">
                <div class="title danger">School does not exist</div>


                <div class="flashcard-section">
                    There is no school with id {{stateParamId}}.

                </div>
            </div>
        </div>
    </div>

    <div data-ng-if="school && school._id">
        <div class="col-xs-12 col-md-6 dashboard-col font-large">
            <div class="virtual-card">
                <div class="title">{{school.name}}</div>


                <div class="flashcard-section">

                    <div class="row">

                        <div class="col-xs-6">
                            <div class="field-label">ID</div>
                            <div class="field-data">
                                {{school._id}}
                            </div>
                        </div>

                        <div class="col-xs-6">
                            <div class="field-label">Administrator</div>
                            <div class="field-data">
                                {{school.user.displayName}}

                            </div>
                        </div>

                    </div>
                </div>

                <div class="flashcard-section">
                    <div class="row ">

                        <div class="col-xs-6">
                            <div class="field-label">Name</div>
                            <div class="field-data">
                                <input type="text"
                                       data-ng-model="school.name"
                                       class="form-control"
                                       placeholder="First Name">
                            </div>
                        </div>


                    </div>
                </div>

                <div class="flashcard-section">
                    <div class="row ">

                        <div class="col-xs-6">
                            <div class="field-label">Country</div>
                            <div class="field-data">
                                <input type="text"
                                       data-ng-model="school.country"
                                       class="form-control"
                                       placeholder="First Name">
                            </div>
                        </div>


                        <div class="col-xs-6">
                            <div class="field-label">City</div>
                            <div class="field-data">
                                <input type="text"
                                       data-ng-model="school.city"
                                       class="form-control"
                                       placeholder="Username">
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>


        <div class="col-xs-12 col-md-6 dashboard-col font-large">
            <div class="virtual-card">
                <div class="title">Subscribed teachers and students</div>


                <div class="flashcard-section">
                    <div class="row">
                        <div class="col-xs-6 field-label">Teachers</div>
                        <div class="col-xs-6 field-label">Students</div>
                    </div>


                    <div class="row ">
                        <div class="col-xs-6">
                            <div class="field-data danger"
                                 data-ng-if="!school.teachers || school.teachers.length === 0">
                                none
                            </div>
                            <div data-ng-repeat="teacher in school.teachers">


                                <div class="field-data">
                                     {{teacher.displayName}}
                                </div>
                            </div>
                        </div>

                        <div class="col-xs-6 ">
                            <div class="field-data danger"
                                 data-ng-if="!school.students || school.students.length === 0">
                                none
                            </div>
                            <div data-ng-repeat="student in school.students">

                                <div class="field-data">
                                    <a href="" data-ng-click="areYouSureToRemoveStudent(student)">
                                        <i class="glyphicon glyphicon-trash"></i></a> {{student.displayName}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>


        <div data-ng-repeat="sc in school.schoolclasses">

            <div class="col-xs-12 col-md-6 dashboard-col ">
                <div class="virtual-card">
                    <div class="title">{{sc.name}}</div>


                    <div class="flashcard-section">
                        <div class="row">
                            <div class="col-xs-6 field-label">Teachers</div>
                            <div class="col-xs-6 field-label">Students</div>
                        </div>


                        <div class="row ">
                            <div class="col-xs-6 field-label">
                                <div class="field-data danger" data-ng-if="!sc.teachers || sc.teachers.length === 0">
                                    none
                                </div>
                                <div data-ng-repeat="teacher in sc.teachers">


                                    <div class="field-data">
                                        {{teacher.displayName}}
                                    </div>
                                </div>
                            </div>

                            <div class="col-xs-6 field-label">
                                <div class="field-data danger" data-ng-if="!sc.students || sc.students.length === 0">
                                    none
                                </div>
                                <div data-ng-repeat="students in sc.students">

                                    <div class="field-data">
                                        {{students.displayName}}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>