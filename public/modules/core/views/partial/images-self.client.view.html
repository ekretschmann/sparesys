<div data-ng-controller="ImagesSelfController">
    <div class="flashcard">

        <div class="card-score">
            <div data-ng-if="card.history.length === 0">
                <table class="new-card">
                    <tr>

                        <td class="top-aligned nowrap">
                            <div class="font-m">
                                New Card!
                            </div>
                        </td>
                        <td class="top-aligned">
                            <img class="tiny-image"
                                 src="/modules/core/img/brand/superhero-boy-medium.gif">
                        </td>

                    </tr>
                </table>

            </div>
        </div>


        <div class="edit-card">
            <a data-ng-href="#!/cards/{{card._id}}/edit">Edit this card</a>
        </div>


        <div class="center-aligned top-padded-l">
                <imagecarousel slides="slides" size="200"/>

            <div data-ng-if="state === 'answer'">



                <div class="correct-answer top-padded-m">
                    {{card.answer}}
                </div>


            </div>


        </div>

           </div>

    <div class="center-aligned top-padded">
        <div data-ng-show="state === 'answer'">
            <button class="btn btn-rememberators btn-small" data-ng-click="processCard(0)">0</button>
            <button class="btn btn-rememberators btn-small" data-ng-click="processCard(1)">1</button>
            <button class="btn btn-rememberators btn-small" data-ng-click="processCard(2)">2</button>
            <button class="btn btn-rememberators btn-small" data-ng-click="processCard(3)">3</button>
            <div class="text-muted top-padded">rate yourself</div>
            <div class="text-muted">0=never heard, 1=not quite remembered, 2=remembered with difficulty,
                3=easy!
            </div>
        </div>

        <div data-ng-show="state === 'question'">
            <button class="btn btn-rememberators" data-ng-click="showAnswer()">Enter</button>
        </div>
    </div>


    <table class="table-striped top-margin-l top-padded-l card-border-top" data-ng-if="cards.length > 0">
        <thead>
        <tr>

            <th class="right-padded-m  top-padded-sm" >Question</th>
            <th class="right-padded-m center-aligned top-padded-sm nowrap">Half Retention</th>
            <th class="right-padded-m center-aligned top-padded-sm nowrap">Score</th>
            <th class="right-padded-m center-aligned top-padded-sm nowrap">History</th>


        </tr>
        </thead>
        <tbody>

        <tr>


        <tr data-ng-repeat="card in cards">


            <td class="right-padded-m standard-min-width top-padded top-aligned text-min-width">

                <a data-ng-href="#!/cards/{{card._id}}/edit">{{card.question}}</a>
            </td>



            <td class="right-padded-m nowrap center-aligned top-aligned" >

                {{toHours(card.hrt)}}

            </td>

            <td class="right-padded-m nowrap center-aligned top-aligned" >


                {{ round(card.score)}}
            </td>

            <td class="text-muted right-padded-m nowrap center-aligned top-aligned" >

                <div data-ng-repeat="h in card.history">
                    {{toDate(h.when) | date:'d/M h:mm:ss'}}
                </div>
            </td>


        </tr>

        </tbody>
    </table>

</div>