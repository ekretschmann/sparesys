<section data-ng-controller="CardsController" data-ng-init="findOne()">

<div ng-include="'/modules/cards/views/partial/delete-card.modal.client.view.html'"></div>
<div ng-include="'/modules/cards/views/partial/manage-images.modal.client.view.html'"></div>

<div class="content-header">
    <div class="pull-right">

        <div class="submenu">

            <div ng-include="'/modules/cards/views/partial/edit-card-menu.client.view.html'"></div>

        </div>
    </div>

    <div class="title">
        {{card.question}}
    </div>
    <div class="headerinfo">
        <table>
            <tr>
                <td><a href="" data-ng-click="navigateToPack(pack)">{{pack.name}}</a>
                </td>
            </tr>


            <tr>
                <td class="left-padded">

                    <span data-ng-if="prevCard">
                        <a class="right-padded-m" data-ng-href="#!/cards/{{prevCard._id}}/edit">prev</a>
                    </span>

                    <span data-ng-if="nextCard">
                    <a data-ng-href="#!/cards/{{nextCard._id}}/edit">next</a>
                    </span>

                </td>
            </tr>


        </table>


    </div>
</div>


<tr>
    <td class="right-padded-m">Card supports:</td>
    <td>
        <span data-ng-repeat="mode in modes" class="right-padded-m"><input type="checkbox"/> {{mode}} </span>
    </td>
</tr>


<div class="rememberators-tabs top-margin-l bottom-padded-m">
    <tabset>
        <tab heading="Forward">


            <div class="default-border">
                <table style="margin: 0.5em">
                    <tr>
                        <td class="right-padded-m nowrap top-padded-m">
                            <section>
                                Front Text
                            </section>

                            <!--<section data-ng-if="card.type ==='image-text'">-->
                            <!--<section data-ng-if="sound === 'yes'">-->
                            <!--Read out loud-->
                            <!--</section>-->

                            <!--<section data-ng-if="sound === 'no'" class="text-muted">-->
                            <!--Read out loud-->
                            <!--</section>-->
                            <!--</section>-->

                        </td>
                        <td class="expands right-padded-m top-padded-m">
                            <section>
                                <input type="text"

                                       data-ng-model="card.question"
                                       id="question"
                                       class=" form-control focus standard-input-width"
                                       placeholder="Question"
                                       data-ng-blur="update()"
                                       required>
                            </section>

                            <!--<section data-ng-if="sound === 'no' && card.type === 'image-text'"-->
                            <!--class="text-muted nowrap standard-input-width">-->
                            <!--no text being read-->
                            <!--</section>-->
                        </td>


                        <!--<td class="nowrap right-padded-s top-padded-m">-->
                        <!--<input data-ng-model="card.sound" type="checkbox"/> Read out loud-->
                        <!--</td>-->

                    </tr>

                    <tr data-ng-if="card.bothways === true"
                        data-ng-repeat="alt in card.alternativequestions track by $index">
                        <td class="right-padded"></td>
                        <td class="expands">
                            <input type="text"
                                   data-ng-model="alt"
                                   class="form-control standard-input-width "
                                   data-ng-blur="updateAlternativeQuestion($index, alt)"
                                   placeholder="Alternative">
                        </td>
                    </tr>


                    <tr class="controls" data-ng-if="card.bothways">
                        <td class="right-padded-m top-padded-s"></td>
                        <td class="expands right-padded-m top-padded-s">
                            <input type="text"
                                   data-ng-model="nextAlternativeQuestion.text"
                                   id="alternativequestion"
                                   class="standard-input-width form-control alternative"
                                   ng-keyup="enterAlternativeQuestion($event)"
                                   placeholder="Possible Alternative Answer (when asked back to front)"
                                   data-ng-blur="updateNextAlternativeQuestion()">
                        </td>
                    </tr>


                    <tr data-ng-if="card.bothways">
                        <td class="top-padded-l"></td>
                        <td class="nowrap top-padded-s middle-aligned">


                        <span class="right-padded-m top-padded-m">
                        <input data-ng-model="card.soundFront" type="checkbox"/> Read out loud
                        </span>

                        <span class="right-padded-m">
                        <input data-ng-model="card.speechRecgognitionFront" type="checkbox"/> Speech Recognition
                        </span>

                                <span data-ng-if="card.soundFront || card.speechRecgognitionFront"
                                      class="right-padded-s">Language</span>

                            <div data-ng-if="card.soundFront || card.speechRecgognitionFront"
                                 class="btn-group right-padded-l expands">

                                <button type="button" class="btn btn-default">{{ language.name }}</button>
                                <button type="button" class="btn btn-default dropdown-toggle">
                                    <span class="caret"></span>
                                    <span class="sr-only">Split button!</span>
                                </button>
                                <ul class="dropdown-menu" role="menu">
                                    <li data-ng-repeat="lang in languages"><a data-ng-click="setLanguage(lang)">{{lang.name}}</a>
                                    </li>
                                </ul>
                            </div>

                        </td>

                    </tr>

                    <tr>
                        <td class="right-padded-m top-padded-s">Back Text</td>

                        <td class="expands  top-padded-s right-padded-m">
                            <input type="text"
                                   data-ng-model="card.answer"
                                   id="answer"
                                   class="standard-input-width form-control"
                                   placeholder="Answer"
                                   data-ng-blur="updateAnswer()"
                                   required>
                        </td>


                    </tr>

                </table>


            </div>
        </tab>
        <tab heading="Reverse">Static content</tab>
        <tab heading="Images">Static content</tab>
        <tab heading="Multiple Choice">Static content</tab>

    </tabset>
</div>


<div data-ng-show="error" class="text-danger" style="text-align: center">
    <strong>Error: {{error}}</strong>
</div>

<div class="footer">

    <div>
        <small>
            <em class="text-muted">Created on {{card.created | date:'medium'}}</em>
        </small>
    </div>
    <div data-ng-if="card.updated">
        <small>
            <em class="text-muted">Updated on {{card.updated | date:'medium'}}</em>
        </small>
    </div>

</div>
</section>