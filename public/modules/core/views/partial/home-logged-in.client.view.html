<section data-ng-controller="CoursesController" data-ng-init="findForCurrentUser()">

    <div class="sparesys-header">
        <div class="sparesys-title" id="home-welcome">Welcome {{authentication.user.firstName}}</div>
    </div>

    <div class="sparesys-header" data-ng-controller="SchoolsController" data-ng-init="findForCurrentUser()" data-ng-if="authentication.user.roles.indexOf('headmaster') > -1">

        <table id="searchTextResults" class="table-striped" style="width: 100%" data-ng-if="schools.length > 0">
            <thead>
            <tr>
                <th class="sparesys-view-courses-description-column" colspan="3" style="padding-bottom: 10px">You are managing the following Schools</th>
            </tr>
            </thead>
            <tbody>
            <tr data-ng-repeat="school in schools | filter:searchText">
                <td class="sparesys-view-courses-name-cell">
                    <a href="#!/schools/{{school._id}}/edit">{{school.name}}</a></td>
                <td class="sparesys-view-courses-course-column">{{school.city}}</td>
                <td class="sparesys-view-courses-course-column" style="width: 100%">{{school.country}}</td>

            </tr>
            </tbody>
        </table>

        <div data-ng-hide="!schools.$resolved || schools.length">
            You are not managing any schools, yet. Please use this <a href="/#!/schools/register">link</a>
            or the menu to register your schools.
        </div>

    </div>

    <div class="sparesys-header" data-ng-controller="SchoolclassesController" data-ng-init="findForCurrentUser()" data-ng-if="authentication.user.roles.indexOf('teacher') > -1">
        <table class="table-striped" style="width: 100%" data-ng-if="schoolclasses.length > 0">
            <thead>
            <tr>
                <th class="sparesys-view-courses-description-column"style="padding-bottom: 10px">You are teaching the following Classes</th>
            </tr>
            </thead>
            <tbody>
            <tr data-ng-repeat="schoolclass in schoolclasses">
                <td class="sparesys-view-courses-name-cell">
                    <a href="#!/schoolclasses/{{schoolclass._id}}/teach">{{schoolclass.name}}</a></td>

            </tr>
            </tbody>
        </table>

        <div data-ng-hide="!schoolclasses.$resolved || schoolclasses.length">

            <div data-ng-controller="SchoolsController" data-ng-init="findForTeacher(authorization.user._id)">
                <div data-ng-if="schools.length === 0 ">


                    <div style="padding-top:10px">Please subscribe to your school by clicking this
                        <a href="/#!/schools">link</a> or use the menu.</div>
                </div>

                <div data-ng-if="schools.length > 0 ">
                    You are not teaching any classes, yet. Ask your headmaster to assign you to
                    your classes.
                </div>
            </div>

        </div>


    </div>

    <div>
        <div data-ng-if="courses.length>0">
            Your courses:
        </div>

        <!--<div class="sparesys-subtitle" data-ng-if="!courses || courses.length===0">-->
        <!--You have not subscribed to any courses-->
        <!--</div>-->

        <div data-ng-if="!courses || courses.length===0">

            You have not subscribed to any courses, yet. You can start with creating your own
            private sparesys course from the menu. Each course consists of packs of cards. If
            you want to create your own, create the course first, then add some packs and then
            add cards to the packs. Use the menu above to get started:
            <div style="margin-top: 10px; margin-bottom: 10px">Courses -> Create</div>
            You can also search for a published course and get your local copy. Since it is
            your personal copy, you will be able to modify cards or add new content to the
            course. Use the menu above to find a course that you may be interested in:
            <div style="margin-top: 10px; margin-bottom: 10px">Courses -> Search</div>
            <div style="height: 500px"></div>
        </div>


        <div data-ng-repeat="course in courses">

            <div data-ng-if="course.visible">
                <div>{{course.name}}
                <span class="pull-right">
                    <a data-ng-href="#!/practice/{{course._id}}">practice</a>
                </span>
                </div>

                <div><span class="sparesys-view-object-right-padded-element">Number of cards:</span><span>56</span>
                </div>
                <div><span class="sparesys-view-object-right-padded-element">Due Date:</span><span>01/07/2014</span>
                </div>
                <div><span class="sparesys-view-object-right-padded-element">On Track:</span><span>87%</span></div>
            </div>

        </div>
    </div>

</section>










