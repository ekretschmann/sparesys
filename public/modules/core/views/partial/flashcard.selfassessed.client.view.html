<div class="flashcard">

    <div class="card-score">
        Score: {{cardScore}}
    </div>

    <div data-ng-if="card.history.length > 0">

        <div class="history text-muted">

            <div style="font-size: x-small">
                Repetitions: {{card.history.length}}
            </div>
            <div style="font-size: x-small">
                Last Check: {{card.history[card.history.length-1].assessment }}
            </div>
            <div style="font-size: x-small">
                First Repetition: {{card.history[0].when | date:'medium'}}
            </div>
            <div style="font-size: x-small">
                Last Repetition: {{card.history[card.history.length-1].when | date:'medium'}}
            </div>

        </div>
    </div>

    <div data-ng-if="card.history.length === 0">
        <table class="new-card">
            <tr>
                <td class="expands"></td>
                <td class="top-aligned nobreak-label">
                    <div class="font-s">
                        New Card!
                    </div>
                </td>
                <td class="top-aligned right-padded">
                    <img class="size-64"
                         src="/modules/core/img/brand/superhero-boy-medium.gif">
                </td>

            </tr>
        </table>

    </div>


    <div data-ng-if="slides.length === 0">

        <div class="question">{{practice.question}}</div>

    </div>


    <div data-ng-if="slides.length > 0">
        <table>
            <tr>
                <td width="50%"></td>
                <td>
                    <imagecarousel slides="slides" size="256"/>
                </td>
                <td width="50%"></td>
            </tr>
        </table>
    </div>

    <span data-ng-init="playSound(practice.question)" data-ng-if="state == 'question'"></span>


    <div data-ng-if="state == 'answer'">


        <div class="correct-answer">
            {{practice.answer}}
        </div>

        <div data-ng-if="practice.direction === 'forward' && card.alternatives && card.alternatives.length > 0">
            <span class="text-muted right-padded top-aligned">Also:</span>
                        <span class="text-muted right-padded" data-ng-repeat="alt in card.alternatives">
                    "{{alt}}"
                </span>

        </div>

    </div>
</div>

<div class="center-aligned top-padded">
    <div data-ng-show="state == 'answer'">
        <button class="btn btn-rememberators btn-small" data-ng-click="processCard(0)">0</button>
        <button class="btn btn-rememberators btn-small" data-ng-click="processCard(1)">1</button>
        <button class="btn btn-rememberators btn-small" data-ng-click="processCard(2)">2</button>
        <button class="btn btn-rememberators btn-small" data-ng-click="processCard(3)">3</button>
        <div class="text-muted top-padded">rate yourself</div>
        <div class="text-muted">0=never heard, 1=not quite remembered, 2=remembered with difficulty,
            3=easy!
        </div>
    </div>

    <div data-ng-show="state == 'question'">
        <button class="btn btn-rememberators" data-ng-click="showAnswer()">Enter</button>
    </div>
</div>