<div ng-include="'/modules/schools/views/partial/register-school.modal.client.view.html'"></div>


<div data-ng-if="authentication.user.roles.indexOf('headmaster') === -1">
    <section data-ng-if="authentication.user.roles.indexOf('help') > -1">
        <div class="content-section">
            <infobox logo="woman" position="right">
                If you are planning to user Rememberators for your school, go to your
                <a href="" data-ng-click="settingsPopup()">settings</a> in the {{user.displayName}} menu and register as
                a
                school administrator to manage teachers and classes. Also, if you want to use the Rememberators
                to teach somone, you will first have to create a school.
            </infobox>
        </div>
    </section>
</div>

<div data-ng-if="authentication.user.roles.indexOf('headmaster') > -1">

    <div class="content-section"
         data-ng-controller="SchoolsController"
         data-ng-init="findForCurrentUser()"
         data-ng-if="authentication.user.roles.indexOf('headmaster') > -1">

        <div data-ng-if="schools.length > 0">

            <div  data-ng-if="authentication.user.roles.indexOf('help') > -1">
                <infobox logo="woman" position="right" title="School Administration">
                    You are a school administrator and will have to bring teachers
                    students together in classes. Click on the link<span data-ng-if="schools.length>1">s</span>
                    to your school<span data-ng-if="schools.length>1">s</span> to set up these
                    classes once students and teachers have subscribed to your school.
                </infobox>
            </div>


            <div  data-ng-if="authentication.user.roles.indexOf('help') === -1">
                <div class="infobox-title">School Administration</div>
                You are the administrator of the following School<span data-ng-if="schools.length>1">s</span>:
            </div>

            <table class="table-striped top-margin-l">
                <thead>
                <tr>
                    <th class="right-padded-m left-padded-s">School</th>
                    <th class="right-padded-m">City</th>
                    <th class="right-padded-s">Country</th>
                </tr>
                </thead>
                <tbody>
                <tr data-ng-repeat="school in schools | filter:searchText">

                    <td class="expands right-padded-m  left-padded-s">
                        <a href="#!/schools/{{school._id}}/edit">{{school.name}}</a></td>
                    <td class="right-padded-m nobreak-label">{{school.city}}</td>
                    <td class="nobreak-label right-padded-s">{{school.country}}</td>

                </tr>
                </tbody>
            </table>






        </div>

        <div data-ng-if="schools.length === 0">

            <div class="warning">
                You are a school administrator but you are not managing any schools. Please use
                <a href="" data-ng-click="registerSchoolPopup()">this link</a>
                or the Schools Menu to register your schools.
            </div>
        </div>

    </div>
</div>
