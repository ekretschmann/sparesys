<section data-ng-controller="RewardsController" data-ng-init="find()">


    <div class="col-xs-12 col-md-6  ">
        <div class="admin-card font-large">
            <div class="title">Administer Rewards</div>
            <div class="flashcard-section row">


                <div class="col-xs-12">
                    <div class="field-label">Find Reward</div>
                    <input type="text"
                           ng-model="options.searchText"
                           class="form-control search"
                           data-ng-change="updateSearch()"
                           placeholder="Name">
                </div>


            </div>
        </div>
    </div>

    <div class="col-xs-12 col-md-6  " data-ng-if="!rewards || rewards.length === 0">

        <div class="admin-card font-large">
            <div class="title">No Rewards Found</div>
            <div class="danger">There are no rewards matching your search criteria</div>
        </div>
    </div>


    <div class="col-xs-12">
        <div class="admin-card font-large">
            <div class="title">
                Add reward

                <div class="pull-right">


                    <a href="" data-ng-click="addCardToPack(pack)"><i class="glyphicon glyphicon-plus-sign"></i></a>

                </div>


            </div>


            <form data-ng-submit="addReward()" validate>
                <fieldset>

                    <div class="col-xs-8">
                        <div class="row">
                            <div class="col-xs-4">
                                <div class="field-label">Name</div>
                                <div class="font-medium">
                                    <input type="text"
                                           data-ng-model="newReward.name"
                                           class="form-control focus">
                                </div>
                            </div>

                            <div class="col-xs-4">
                                <div class="field-label">Health points</div>
                                <div class="font-medium">
                                    <input type="number"
                                           data-ng-model="defaulthealthpoints"
                                           class="form-control"
                                           placeholder="Health">
                                </div>
                            </div>
                            <div class="col-xs-4">

                                <div class="field-label">Type</div>
                                <div class="font-medium">

                                    <input type="radio" data-ng-model="type" value="Recipe" disabled> Recipe
                                    <input type="radio" data-ng-model="type" value="Item" disabled> Item
                                    <input type="radio" data-ng-model="type" value="Skill" disabled> Skill

                                </div>
                            </div>


                        </div>

                        <div class="row" style="margin-top: 1.5em;">


                            <div class="col-xs-4">
                                <div class="field-label">Ingredients</div>

                                <input style="width: 100%"
                                       type="text"
                                       data-ng-model="selectedIngredient"
                                       typeahead-on-select="selectIngredient()"
                                       typeahead="reward.name for reward in rewards | filter:{name: $viewValue} | limitTo:12"
                                       class="form-control">
                            </div>


                            <div class="col-xs-4">
                                <div class="field-label">Enables</div>
                                <div class="font-medium">

                                    <input style="width: 100%"
                                           type="text"
                                           data-ng-model="selectedEnabler"
                                           typeahead-on-select="selectEnabler()"
                                           typeahead="reward.name for reward in rewards | filter:{name: $viewValue} | limitTo:12"
                                           class="form-control">
                                </div>
                            </div>

                            <div class="col-xs-4">
                                <div class="field-label">Goals</div>
                                <div class="font-medium">
                                    <input style="width: 100%"
                                           type="text"
                                           data-ng-model="selectedGoal"
                                           typeahead-on-select="selectGoal()"
                                           typeahead="reward.name for reward in rewards | filter:{name: $viewValue} | limitTo:12"
                                           class="form-control">
                                </div>
                            </div>


                            <!--</td>-->
                            <!--</tr>-->
                        </div>

                        <div class="row">
                            <div class="col-xs-2">
                                <div data-ng-repeat="ingredient in ingredients">
                                    <a>
                                        <i data-ng-click="removeIngredient(ingredient)"
                                           class="glyphicon glyphicon-remove-sign small">
                                        </i>
                                    </a>
                                    {{ingredient.amount}}
                                    {{ingredient.name}}
                                    <input data-ng-model="ingredient.keep" type="checkbox"/> keep intact</td>
                                </div>
                            </div>

                            <div class="col-xs-2">
                                <div data-ng-repeat="enabler in enables">
                                    <a>
                                        <i data-ng-click="removePrecursor(enabler)"
                                           class="glyphicon glyphicon-remove-sign small">
                                        </i>
                                    </a>
                                    {{enabler.name}}
                                </div>

                                <div class="col-xs-2">
                                    <div data-ng-repeat="goal in goals">
                                        <a>
                                            <i data-ng-click="removeGoal(goal)"
                                               class="glyphicon glyphicon-remove-sign small">
                                            </i>
                                        </a>
                                        {{goal.name}}
                                    </div>

                                </div>


                                <div class="hidden">
                                    <button type="submit" class="btn btn-rememberators"></button>
                                </div>
                            </div>


                        </div>

                    </div>

                    <div class="col-xs-4">
                        <div class="field-label">Description</div>
                        <div class="font-medium">

                                    <textarea type="text"
                                              data-ng-model="newReward.description"
                                              class="form-control"
                                              placeholder="Description"
                                              rows="8"/>

                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>


    <!--</table>-->

    <!--<div class="center-aligned top-padded-m">-->

    <!--<input type="submit" value="Ok" class="btn btn-rememberators" style="width: 100px;">-->
    <!--<input ng-click="cancel()" value="New" class="btn btn-rememberators" style="width: 100px;">-->
    <!--<input ng-click="remove(reward)" value="Delete" class="btn btn-rememberators" style="width: 100px;">-->


    <!--</div>-->
    <!--</form>-->


    <!--</div>-->


    <!--<table id="searchTextResults" class="table-striped" data-ng-hide="rewards.length === 0">-->
    <!--<thead>-->
    <!--<tr>-->
    <!--<th class="left-padded-s right-padded-m">Reward</th>-->
    <!--<th class="left-padded-s right-padded-m">Description</th>-->
    <!--<th class="left-padded-s right-padded-m">H</th>-->
    <!--<th class="right-padded-m">Ingredients</th>-->
    <!--<th class="right-padded-m">Enables</th>-->
    <!--</tr>-->
    <!--</thead>-->
    <!--<tbody>-->
    <!--<tr data-ng-repeat="reward in rewards | filter:searchText">-->

    <!--<td class="left-padded-s right-padded-m top-padded-s bottom-padded-s top-aligned">-->

    <!--<a class="pointer" href="/#!/rewards/manage/{{reward._id}}">{{reward.name}}</a>-->

    <!--<span data-ng-if="reward.type === 'Item'">(I)</span>-->
    <!--<span data-ng-if="reward.type === 'Recipe'">(R)</span>-->
    <!--<span data-ng-if="reward.type === 'Skill'">(S)</span>-->

    <!--</td>-->
    <!--<td class="left-padded-s right-padded-m top-padded-s bottom-padded-s top-aligned">-->

    <!--{{reward.description}}-->

    <!--</td>-->

    <!--<td class="left-padded-s right-padded-m top-padded-s bottom-padded-s top-aligned">-->

    <!--{{reward.defaulthealthpoints}}-->

    <!--</td>-->
    <!--<td>-->

    <!--<div class="right-padded-s" data-ng-repeat="ingredient in reward.ingredients[0]">{{ingredient.name}}-->
    <!--({{ingredient.amount}})-->
    <!--</div>-->
    <!--</td>-->
    <!--<td>-->

    <!--<div class="right-padded-s" data-ng-repeat="enabler in reward.enables">{{rewardNames[enabler]}}</div>-->
    <!--</td>-->
    <!--</tr>-->
    <!--</tbody>-->
    <!--</table>-->


    <!--<div class="center-aligned top-padded-m">-->
    <!--<input ng-click="removeAll()" value="Delete All" class="btn btn-rememberators">-->

    <!--</div>-->

    <!--<div class="list-group">-->
    <!--<a data-ng-repeat="reward in rewards" data-ng-href="#!/rewards/{{reward._id}}" class="list-group-item">-->
    <!--<h4 class="list-group-item-heading" data-ng-bind="reward.name"></h4>-->
    <!--</a>-->
    <!--</div>-->


</section>
