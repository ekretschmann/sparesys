<div class="flashcard">

    <div class="card-score">
        Score: {{cardScore}}
    </div>

    <div data-ng-if="card.history.length > 0"
         class="history text-muted">

        <div style="font-size: x-small">
            Repetitions: {{card.history.length}}
        </div>
        <div style="font-size: x-small">
            Last Check: {{card.history[card.history.length-1].assessment }}
        </div>
        <div style="font-size: x-small">
            First Repetition: {{card.history[0].when | date:'medium'}}
        </div>
        <div style="font-size: x-small">
            Last Repetition: {{card.history[card.history.length-1].when | date:'medium'}}
        </div>

    </div>

    <div data-ng-if="card.history.length === 0">
        <div>just some text</div>
        <table  class="new-card">
            <tr>
                <td class="expands"></td>
                <td class="top-aligned nobreak-label">
                    <div class="font-s">
                        New Card!
                    </div>
                </td>
                <td class="top-aligned right-padded">
                    <img class="size-64"
                         src="/modules/core/img/brand/superhero-boy-medium.gif">
                </td>

            </tr>
        </table>

    </div>

    <div data-ng-if="slides.length === 0" class="question">{{card.question}}</div>


    <span data-ng-init="playSound(card.question)" data-ng-if="state == 'question'"></span>

    <div data-ng-if="state == 'question'" class="form-group" class="expands" style="padding: 20px;">
        <input type="text" required id="answer" name="answer"
               class="answer form-control"
               data-ng-model="answer.text" data-ng-init="setFocus()"
               data-ng-keypress="key($event)">

        <!--<div style="padding-top: 10px">-->
        <!--<button data-ng-click="submitAnswer()" class="btn btn-large btn-primary">submit</button>-->
        <!--</div>-->
    </div>


    <div data-ng-if="state == 'answer'">

        <div data-ng-if="lastRating === 3"
             class="correct">
            {{correct}}
        </div>


        <div data-ng-if="lastRating === 0"
             class="incorrect">
            {{incorrect}}
        </div>


        <div class="your-answer">
            Your Answer: {{answer.text}}
        </div>

        <div class="correct-answer">
            Correct Answer: {{card.answer}}
        </div>

        <div data-ng-if="card.alternatives && card.alternatives.length > 0">
                    <span class="text-muted right-padded top-aligned">Also:</span>
                        <span class="text-muted right-padded" data-ng-repeat="alt in card.alternatives">
                    "{{alt}}"
                </span>

        </div>

    </div>
</div>

<div style="text-align: center" class="form-group">
    <div data-ng-if="state == 'question'" style="padding-top: 10px">
        <button class="btn btn-rememberators" data-ng-click="submitAnswer()">Enter</button>
    </div>
    <button class="btn btn-rememberators" data-ng-if="state == 'answer'" data-ng-click="nextCard()">
        Next
    </button>
</div>
