<section data-ng-controller="SchoolclassesController" data-ng-init="findForCurrentUser()">

    <!--<div ng-include="'/modules/schools/views/partial/delete-school.modal.client.view.html'"></div>-->

    <div ng-include="'/modules/schoolclasses/views/partial/add-class.modal.client.view.html'"></div>
    <div ng-include="'/modules/schoolclasses/views/partial/delete-class.modal.client.view.html'"></div>

    <div class="content-header">

        <div class="title">
            Manage Classes
        </div>
    </div>

    <div data-ng-hide="schoolclasses.length  > 0">
        You have no access to existing classes. You can <a href="" ng-click="addClassPopup()">create a class</a> for your school!
    </div>



    <table id="searchTextResults" class="table-striped" style="width: 100%" data-ng-hide="schoolclasses.length === 0">
        <thead>
        <tr>
            <th class="sparesys-view-courses-course-column"></th>
            <th class="sparesys-view-courses-course-column">Class</th>
            <th class="sparesys-view-courses-course-column">Students</th>
            <th class="sparesys-view-courses-course-column">Courses</th>
        </tr>
        </thead>
        <tbody>
        <tr data-ng-repeat="schoolclass in schoolclasses">
            <td class="sparesys-view-courses-name-cell" style="vertical-align: top">
                <a href="">
                    <i data-ng-click="areYouSureToDeleteClass(schoolclass)"
                       class="glyphicon glyphicon-remove-sign">
                    </i>
                </a>
                <!--<a data-ng-href="#!/schools/{{school._id}}/edit">-->
                    <!--<i class="glyphicon glyphicon-edit"></i>-->
                <!--</a>-->
            </td>
            <td class="sparesys-view-courses-name-cell" style="vertical-align: top">
                <a href="#!/schoolclasses/{{schoolclass._id}}/edit" >{{schoolclass.name}}</a></td>
            <td class="sparesys-view-courses-course-column" style="vertical-align: top; white-space: nowrap">

                <div data-ng-if="schoolclass.students.length === 0">none</div>

                <div data-ng-repeat="student in schoolclass.students">
                    <div data-ng-controller="UsersController" data-ng-init="findStudent(student)">
                        {{student.displayName}}
                    </div>
                </div>
            </td>
            <td class="sparesys-view-courses-date-cell" style="vertical-align: top; width: 100%">

                <div data-ng-if="schoolclass.courses.length === 0">none</div>

                <div data-ng-repeat="course in schoolclass.courses">
                    <div data-ng-controller="CoursesController" data-ng-init="findById(course)">
                        {{course.name}}
                    </div>
                </div>
            </td>
        </tr>
        </tbody>
    </table>


</section>