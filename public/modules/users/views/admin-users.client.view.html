<section data-ng-controller="UsersController" data-ng-init="find()">


    <div ng-include="'/modules/users/views/partial/delete-user.modal.client.view.html'"></div>


    <div class="admin-card-large">
        <div class="title">Administer Users</div>
        <div class="section">


            <div class="field-label">Find User</div>
            <input type="text"
                   ng-model="options.searchText"
                   class="form-control search"
                   data-ng-change="updateSearch()"
                   placeholder="Name">


        </div>
    </div>


    <div data-ng-if="!users || users.length === 0">

        <div class="admin-card-large">
            <div class="title">No Users Found</div>
            <div class="danger">There are no users matching your search criteria</div>
        </div>
    </div>


    <div data-ng-repeat="user in users">
        <div class="admin-card-large">
            <div class="title">{{user.displayName}}

                <div class="pull-right">
                    <a href="" data-ng-click="areYouSureToDeleteUser(user)"><i
                            class="glyphicon glyphicon-trash"></i></a>
                    <a href="/#!/users/{{user._id}}"><i class="glyphicon glyphicon-edit"></i></a>
                </div>

            </div>


            <div class="three-column-section top-section">
                <div class="column">

                    <div class="field-label">Username</div>
                    <div class="field-data">
                        {{user.username}}
                    </div>
                </div>


                <div class="column">
                    <div class="field-label">First Name</div>
                    <div class="field-data">
                        {{user.firstName}}
                    </div>
                </div>

                <div class="column">
                    <div class="field-label">Last Name</div>
                    <div class="field-data">
                        {{user.lastName}}
                    </div>
                </div>

            </div>

            <div class="two-column-section">


                <div class="column">
                    <div class="field-label">Student in schools</div>
                    <div class="field-data">
                        <div data-ng-if="user.studentInSchools.length ===0">
                            none
                        </div>

                        <div data-ng-repeat="s in user.studentInSchools">
                            {{s}}
                        </div>
                    </div>
                </div>

                <div class="column">
                    <div class="field-label">Student in classes</div>
                    <div class="field-data">
                        <div data-ng-if="user.studentInClasses.length ===0">
                            none
                        </div>

                        <div data-ng-repeat="s in user.studentInClasses">
                            {{s}}
                        </div>

                    </div>
                </div>


            </div>

            <div class="two-column-section">

                <div class="column">
                    <div class="field-label">Teacher in schools</div>
                    <div class="field-data">
                        <div data-ng-if="user.teacherInSchools.length ===0">
                            none
                        </div>

                        <div data-ng-repeat="s in user.teacherInSchools">
                            {{s}}
                        </div>
                    </div>
                </div>

                <div class="column">
                    <div class="field-label">Teacher in classes</div>
                    <div class="field-data">
                        <div data-ng-if="user.teachesClasses.length === 0">
                            none
                        </div>

                        <div data-ng-repeat="cl in user.teachesClasses track by $index">

                            <a href="/#!/schoolclasses/{{cl}}/admin">{{cl}}</a>
                        </div>
                    </div>
                </div>


            </div>


            <div class="two-column-section">


                <div class="column">
                    <div class="field-label">Administers Schools</div>
                    <div class="field-data">
                        <div data-ng-if="user.administersSchools.length ===0">
                            none
                        </div>

                        <div data-ng-repeat="s in user.administersSchools">
                            {{s}}
                        </div>
                    </div>
                </div>


            </div>

        </div>
    </div>
</section>
